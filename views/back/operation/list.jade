extends ../layout
block content
    .page-title
        .title-env
            h1.title
                | 操作列表
            p.description
                | 各个功能权限所拥有的操作
        .breadcrumb-env
            ol.breadcrumb.bc-1
                li
                    a(href="/admin/main")
                        i.fa-home
                            | 首页
                li
                    a(href="#")
                        | 用户管理
                li
                    a(href="/admin/operation/list")
                        | 操作列表
                li.active
                    strong
                        | 列表
    .row
        .col-md-12
            .panel.panel-default
                //
                    .panel-heading
                        h3.panel-title
                                | 列表
                        .panel-options
                            a(href="#",data-toggle="panel")
                                span.collapse-icon
                                    | &ndash;
                                span.expand-icon
                                    | +
                            a(href="#",data-toggle="remove")
                                | &times
                .panel-body
                    .row
                        .col-xs-6
                            a.btn.btn-blue.btn-icon.btn-icon-standalone(href="/admin/operation")
                                i.el-plus
                                span
                                    | 新增
                    table.table.table-bordered.table-striped
                        thead
                            tr
                                th
                                    | 名称
                                th(data-priority="1")
                                    | 操作代码
                                th(data-priority="3")
                                    | 描述
                                th
                                    | 操作
                        tbody
                            if operations.length>0
                                each op in operations
                                    tr
                                        td
                                            | #{op.name}
                                        td
                                            | #{op.code}
                                        td
                                            | #{op.discription}
                                        td
                                            a.btn.btn-secondary.btn-sm.btn-icon.icon-left(href="/admin/operation/edit/#{op.id}")
                                                | 编辑
                                            a.btn.btn-danger.btn-sm.btn-icon.icon-left(href="/admin/operation/delete/#{op.id}",onclick="return openDeleteModal('/admin/operation/delete/#{op.id}');")
                                                | 删除
                            else
                                tr
                                    td(colspan="3")
                                        | 没有数据
block bottomJavascript
    script(src="#{staticPath}xenon/assets/js/rwd-table/js/rwd-table.min.js")
    script(src="#{staticPath}xenon/assets/js/toastr/toastr.min.js")
    script.
        alert(document.referrer);